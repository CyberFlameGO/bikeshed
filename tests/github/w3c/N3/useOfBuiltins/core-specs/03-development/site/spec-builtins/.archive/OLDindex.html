<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Event Notifications in Value-Adding Networks</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in § N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#profile-and-date {
		/* #profile-and-date is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: underline #707070;
		text-decoration: underline var(--a-normal-underline);
		text-decoration-skip-ink: none;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		text-decoration-color: #bbb;
		text-decoration-color: var(--a-visited-underline);
	}

	/* Indicate interaction with the link */
	a[href]:focus,
	a[href]:hover {
		text-decoration-thickness: 2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		text-decoration-color: #c00;
		text-decoration-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding: 0.1rem 1px 0;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Switch to using border-bottom for underlines */
		text-decoration: none;
		border-bottom: 1px solid;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:focus,
	.toc a:hover {
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom: 3px solid #054572;
			border-bottom: 3px solid var(--toclink-underline);
			margin-bottom: -3px;
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li a + span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <link href="https://www.eventnotifications.net" rel="canonical">
<style>
table {
  margin: 25px auto;
  border-collapse: collapse;
  border: 1px solid #eee;
  border-bottom: 2px solid #005A9C;
}
table tr:hover {
  background: #f4f4f4;
}
table tr:hover td {
  color: #555;
}
table th, table td {
  color: #999;
  border: 1px solid #eee;
  padding: 12px 12px;
  border-collapse: collapse;
}
table th {
  background: #005A9C;
  color: #fff;
}
table tbody > tr > th {
  background: #fff;
  color: #005A9C;
}
table th.last {
  border-right: none;
}
</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-issues */

a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">Event Notifications in Value-Adding Networks</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">Living Document, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://www.eventnotifications.net">https://www.eventnotifications.net</a>
     <dt>Latest published version:
     <dd><a href="https://www.eventnotifications.net">https://www.eventnotifications.net</a>
     <dt>Previous Versions:
     <dd><a href="https://www.eventnotifications.net/0.1/" rel="prev">https://www.eventnotifications.net/0.1/</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:patrick.hochstenbach@ugent.be">Patrick Hochstenbach</a> (<span class="p-org org"><a href="https://lib.ugent.be">Ghent University Library</a></span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:miel.vandersande@meemoo.be">Miel Vander Sande</a> (<span class="p-org org"><a href="https://meemoo.be">meemoo - Flemish Institute for Archives</a></span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:ruben.dedecker@ugent.be">Ruben Dedecker</a> (<span class="p-org org"><a href="https://knows.idlab.ugent.be">IDLab - Ghent University</a></span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:paul@paulwalk.net">Paul Walk</a> (<span class="p-org org"><a href="https://antleaf.com">Antleaf</a></span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:mklein@lanl.gov">Martin Klein</a> (<span class="p-org org"><a href="https://www.lanl.gov/library/">Los Alamos National Laboratory</a></span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:herbert.vandesompel@ugent.be">Herbert Van de Sompel</a> (<span class="p-org org"><a href="https://knows.idlab.ugent.be">IDLab - Ghent University</a></span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://creativecommons.org/publicdomain/zero/1.0/" rel="license"><img alt="CC0" height="15" src="https://licensebuttons.net/p/zero/1.0/80x15.png" width="80"></a> To the extent possible under law, the editors have waived all copyright
and related or neighboring rights to this work.
In addition, as of 1 January 1970,
the editors have made this specification available under the <a href="http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0" rel="license">Open Web Foundation Agreement Version 1.0</a>,
which is available at http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0.
Parts of this work may be from another specification document.  If so, those parts are instead covered by the license of that specification document. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This document lists the possible notifications that can be used in the network.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#Introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#conformance"><span class="secno">2</span> <span class="content">Conformance</span></a>
    <li><a href="#document-conventions"><span class="secno">3</span> <span class="content">Document Conventions</span></a>
    <li>
     <a href="#NetworkEntities"><span class="secno">4</span> <span class="content">Network entities</span></a>
     <ol class="toc">
      <li><a href="#Agent"><span class="secno">4.1</span> <span class="content">Agent</span></a>
      <li><a href="#Artifact"><span class="secno">4.2</span> <span class="content">Artifact</span></a>
      <li><a href="#DataNode"><span class="secno">4.3</span> <span class="content">Data Node</span></a>
      <li><a href="#ServiceNode"><span class="secno">4.4</span> <span class="content">Service Node</span></a>
      <li><a href="#ServiceResult"><span class="secno">4.5</span> <span class="content">Service Result</span></a>
     </ol>
    <li>
     <a href="#Activities"><span class="secno">5</span> <span class="content">Properties in LDN+AS2 Notifications</span></a>
     <ol class="toc">
      <li><a href="#ActivityId"><span class="secno">5.1</span> <span class="content">JSON-LD id</span></a>
      <li><a href="#ActivityType"><span class="secno">5.2</span> <span class="content">JSON-LD type</span></a>
      <li><a href="#ActivityObject"><span class="secno">5.3</span> <span class="content">AS2 object</span></a>
      <li><a href="#ActivityAddressing"><span class="secno">5.4</span> <span class="content">AS2 actor, AS2 origin, and AS2 target</span></a>
      <li><a href="#ActivityContext"><span class="secno">5.5</span> <span class="content">AS2 context</span></a>
      <li><a href="#ActivityInReplyTo"><span class="secno">5.6</span> <span class="content">AS2 inReplyTo</span></a>
     </ol>
    <li>
     <a href="#NetworkCommunicationPatterns"><span class="secno">6</span> <span class="content">Network communication patterns</span></a>
     <ol class="toc">
      <li>
       <a href="#one-way-communication-patterns"><span class="secno">6.1</span> <span class="content">One-way communication patterns</span></a>
       <ol class="toc">
        <li><a href="#OneWayPatternDNSN"><span class="secno">6.1.1</span> <span class="content">Data Node to Service Node</span></a>
        <li><a href="#OneWayPatternSNDN"><span class="secno">6.1.2</span> <span class="content">Service Node to Data Node</span></a>
        <li><a href="#OneWayPatternSNSN"><span class="secno">6.1.3</span> <span class="content">Service Node to Service Node</span></a>
       </ol>
      <li>
       <a href="#RequestResponsePatternDNSN"><span class="secno">6.2</span> <span class="content">Request-response: Data Node to Service Node</span></a>
       <ol class="toc">
        <li><a href="#RequestResponsePatternDNSNOffer"><span class="secno">6.2.1</span> <span class="content">Data Node requests service</span></a>
        <li><a href="#RequestResponsePatternDNSNAnnounce"><span class="secno">6.2.2</span> <span class="content">Service Node provides Service Result</span></a>
        <li><a href="#RequestResponsePatternDNSNAcknowledge"><span class="secno">6.2.3</span> <span class="content">Service Node acknowledges a service request</span></a>
        <li><a href="#RequestResponsePatternDNSNUndo"><span class="secno">6.2.4</span> <span class="content">Data Node cancels prior service request</span></a>
       </ol>
      <li>
       <a href="#RequestResponsePatternSNSN"><span class="secno">6.3</span> <span class="content">Request-response: Service Node to Service Node</span></a>
       <ol class="toc">
        <li><a href="#RequestResponsePatternSNSNOffer"><span class="secno">6.3.1</span> <span class="content">Service Node requests service</span></a>
        <li><a href="#RequestResponsePatternSNSNAnnounce"><span class="secno">6.3.2</span> <span class="content">Service Node provides Service Result</span></a>
        <li><a href="#RequestResponsePatternSNSNAcknowledge"><span class="secno">6.3.3</span> <span class="content">Service Node acknowledges a service request</span></a>
        <li><a href="#RequestResponsePatternSNSNUndo"><span class="secno">6.3.4</span> <span class="content">Service Node cancels prior service request</span></a>
       </ol>
     </ol>
    <li><a href="#Discovery"><span class="secno">7</span> <span class="content">Discovery of LDN Inboxes</span></a>
    <li><a href="#Serialalization"><span class="secno">8</span> <span class="content">Serialization of LDN+AS2 notifications</span></a>
    <li><a href="#Validation"><span class="secno">9</span> <span class="content">Validation of LDN+AS2 notifications</span></a>
    <li><a href="#ServiceDescription"><span class="secno">10</span> <span class="content">Service description of LDN Targets</span></a>
    <li><a href="#acknowledgements"><span class="secno">11</span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <p>Feedback welcome: <a href="mailto:value-adding-networks@googlegroups.com">value-adding-networks@googlegroups.com</a>.</p>
   <h2 class="heading settled" data-level="1" id="Introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#Introduction"></a></h2>
   <p><img alt="Overview of the network participants" src="images/network.svg" width="800"></p>
   <p><em>Figure 1: Overview of the network participants</em></p>
   <p>This specification details a profile for using Linked Data Notifications <a data-link-type="biblio" href="#biblio-ldn" title="Linked Data Notifications">[LDN]</a> with
ActivityStreams2 <a data-link-type="biblio" href="#biblio-as2" title="Activity Streams 2.0">[AS2]</a> payloads in value-adding networks.</p>
   <p>A value-added network, as considered by this specification, is a network in which Web
resources, for the purpose of this specification named <a href="#Artifact">Artifacts</a>, are made available by
nodes in the network, value is added to these <em>Artifacts</em> by other nodes in the network, 
and LDN+AS2 notifications with that regard are exchanged among network nodes.</p>
   <p>The type of web resources that are considered <em>Artifacts</em> in a value-adding network depends
on its community of use. For example, in a research communication value-adding network, <em>Artifacts</em> would include research outputs such as preprints, reviewed articles, datasets, 
workflows, and software that are part of the scholarly record.</p>
   <p>A value-adding service applied to an <em>Artifact</em> does not change its content. Rather, the
outcome of applying the service, for the purpose of this specification named <a href="#ServiceResult">Service Result</a>, can be associated with the <em>Artifact</em>. It could, for example, 
be information that an <em>Artifact</em> was made discoverable by a portal; a trusted timestamp for an <em>Artifact</em>;  
information about a linkage the <em>Artifact</em> is involved in; the creation of a new resource 
related to the artifact (e.g. an enhanced version, a translation, an archival copy).</p>
   <p>Regarding the exchange of these LDN+AS2 notifications, the specification distinguishes
between two logical roles <a href="#DataNode">Data Node</a> and <a href="#ServiceNode">Service Node</a>:</p>
   <ul>
    <li data-md>
     <p>A <em>Data Node</em> is a network node that makes <em>Artifacts</em> available to the network.</p>
    <li data-md>
     <p>A <em>Service Node</em> is a network node that provides value-adding services for <em>Artifacts</em> that are available to the network.</p>
   </ul>
   <p>In order to be able to communicate, each <em>Data Node</em> and <em>Service Node</em> has <a href="https://www.w3.org/TR/ldn/#sender">LDN Sender</a> and <a href="https://www.w3.org/TR/ldn/#receiver">LDN Receiver</a> (LDN Inbox) capabilities that are used:</p>
   <ul>
    <li data-md>
     <p>by a <em>Data Node</em> to send and receive LDN notifications pertaining to <em>Artifacts</em> that it makes available to the network, and,</p>
    <li data-md>
     <p>by a <em>Service Node</em> to send and receive LDN notifications pertaining to value-adding services for <em>Artifacts</em> that are made available to the network.</p>
   </ul>
   <p><a href="#Agent">Agents</a> operate on behalf of <em>Data Node</em> and <em>Service Node</em>; they can be
humans or machines, individuals or organizations. These <em>Agents</em> exchange LDN notifications, each of which pertains
to an <em>Artifact</em> that is hosted by a <em>Data Node</em>.</p>
   <p>The intended communication style among <em>Nodes</em> is point-to-point, requiring no centralized hubs. It is
push-oriented, with only the relevant <em>Nodes</em> being updated about new information as it becomes available. 
Interactions among <em>Nodes</em> are necessarily asynchronous because certain notification patterns do not require a 
response and, in patterns that do, such as requesting a service for an <em>Artifact</em>, the time between a request 
and the announcement of the <em>Service Result</em> is unpredictable and could range between almost immediate to months.</p>
   <p>The communication patterns are action-oriented. The patterns express when an activity was initiated,
acknowledged, or yielded a result. Message payloads contain only core information (in most cases <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> identifiers) to convey in which value-adding activities <em>Data Nodes</em>, <em>Service Nodes</em>, and <em>Artifacts</em> are 
involved and what the <em>Service Results</em> are. The assumption is that further information about the entities 
involved is available by using their identifiers in auto-discovery mechanisms. As such, message payloads 
are typically expressed by reference (i.e. by means of the <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> of an entity) rather than by value (i.e. 
by means of a description of an entity).</p>
   <p>A common scenario covered by the specification is depicted in Figure 1, which shows, on the dashed lines,
prefixed by <code>AS</code>, the AS2 element used in the LDN+AS2 payloads to convey the respective entity involved 
in the value-adding network:</p>
   <ul>
    <li data-md>
     <p>An <em>Agent</em> at the end of a <em>Data Node</em> uses an LDN Sender to send a notification to a <em>Service Node</em>'s LDN Inbox (green arrow) requesting a value-adding service for an <em>Artifact</em> made available by the <em>Data Node</em>.  The URL of the <em>Artifact</em> is provided in the AS2 object element of the notification.</p>
    <li data-md>
     <p>An <em>Agent</em> at the end of the <em>Service Node</em> uses an LDN Consumer to obtain this request from the <em>Service Node</em>'s LDN Inbox. Provided that the <em>Service Node</em> is willing and able to perform the requested service, it goes ahead and does so. The manner in which this is done is outside the scope of this specification.</p>
    <li data-md>
     <p>Once the value-adding service is executed, an <em>Agent</em> at the end of the <em>Service Node</em> that is aware of the <em>Service Result</em> sends a notification (blue arrow) to the <em>Data Node</em>'s LDN Inbox. The <em>Service Result</em> is provided in the AS2 object element of the notification. Moreover, the <em>Artifact</em> that the <em>Service Result</em> pertains to is provided in the AS2 context element of the notification.</p>
    <li data-md>
     <p>An <em>Agent</em> at the end of the <em>Data Node</em> consumes this response by obtaining it from the <em>Data Node</em>'s LDN Inbox, and acts upon the <em>Service Result</em> in a way deemed appropriate.</p>
   </ul>
   <p>From the perspective of LDN:</p>
   <ul>
    <li data-md>
     <p>An <em>Artifact</em> made available to the network by a <em>Data Node</em> is an LDN Target and therefore has a <a href="https://www.w3.org/TR/ldn/#discovery">discoverable</a> LDN Inbox. The LDN Inbox is used to receive LDN+AS2 notifications that provide the <em>Data Node</em>, acting as an LDN Consumer, with value-adding information pertaining to an <em>Artifact</em>.</p>
    <li data-md>
     <p>A <em>Service Node</em> that provides value-adding services to <em>Artifacts</em> made available to the network is an LDN Target and therefore has a <a href="https://www.w3.org/TR/ldn/#discovery">discoverable</a> LDN Inbox. That LDN Inbox is used to receive LDN+AS2 notifications that provide the <em>Service Node</em>, acting as an LDN Consumer, either with information pertaining to an <em>Artifact</em> or with a request for the provision of a value-adding service for an <em>Artifact</em>.</p>
   </ul>
   <p>From the perspective of AS2:</p>
   <ul>
    <li data-md>
     <p>When an LDN+AS2 notification is sent from a <em>Data Node</em>, the <em>Artifact</em> to which the notification pertains is the AS2 object, the <em>Agent</em> that sends the notification is the AS2 actor, and the Agent to which the notification is addressed is the AS2 target.</p>
    <li data-md>
     <p>When an LDN+AS2 notification is sent from a <em>Service Node</em>, the <em>Service Result</em> is the AS2 object, the <em>Agent</em> that sends the notification is the AS2 actor, and the Agent to which the notification is addressed is the AS2 target.</p>
   </ul>
   <h2 class="heading settled" data-level="2" id="conformance"><span class="secno">2. </span><span class="content">Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p>Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, 
and “OPTIONAL” in the normative parts of this document are to be interpreted as described in RFC 2119. However, 
for readability, these words do not appear in all uppercase letters in this specification.</p>
   <p>All of the text of this specification is normative except sections explicitly marked as non-normative, examples,
and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
   <h2 class="heading settled" data-level="3" id="document-conventions"><span class="secno">3. </span><span class="content">Document Conventions</span><a class="self-link" href="#document-conventions"></a></h2>
   <p>Within this document, the following namespace prefix bindings to <a data-link-type="biblio" href="#biblio-uri" title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</a>-s are used:</p>
   <table>
    <thead>
     <tr>
      <th>Prefix 
      <th>Namespace 
    <tbody>
     <tr>
      <td>rdf 
      <td>http://www.w3.org/1999/02/22-rdf-syntax-ns# 
     <tr>
      <td>as 
      <td>https://www.w3.org/ns/activitystreams# 
     <tr>
      <td>ldp 
      <td>http://www.w3.org/ns/ldp# 
     <tr>
      <td>schema 
      <td>http://schema.org/ 
   </table>
   <p>When in the textual parts of this document a namespace prefix is used, it should be
interpreted with the bindings as stated above. In our examples LDN+AS2 payloads we use JSON-LD as 
syntax. In our JSON-LD examples we don’t explicity write the prefixes. The <code>@context</code> element in JSON-LD defines a mapping from terms to <a data-link-type="biblio" href="#biblio-uri" title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</a>-s. We refer to the <a data-link-type="biblio" href="#biblio-json-ld" title="JSON-LD 1.0">[JSON-LD]</a> specification 
for more information about this more concise way of notation.</p>
   <h2 class="heading settled" data-level="4" id="NetworkEntities"><span class="secno">4. </span><span class="content">Network entities</span><a class="self-link" href="#NetworkEntities"></a></h2>
   <p>This section clarifies the terminology that was intuitively introduced in the introduction.</p>
   <h3 class="heading settled" data-level="4.1" id="Agent"><span class="secno">4.1. </span><span class="content">Agent</span><a class="self-link" href="#Agent"></a></h3>
   <p>An <em>Agent</em> is an active participant in the network: an Agent performs actions, can be identified
or addressed with a <a data-link-type="biblio" href="#biblio-uri" title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</a>, and can send or receive LDN+AS2 notifications. An <em>Agent</em> can be 
human or machine, individual or organization, and operate on behalf of a <em>Data Node</em> or a <em>Service Node</em>.</p>
   <h3 class="heading settled" data-level="4.2" id="Artifact"><span class="secno">4.2. </span><span class="content">Artifact</span><a class="self-link" href="#Artifact"></a></h3>
   <p>An <em>Artifact</em> is a Web resource identified by a <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> that is made available to the network by
a <em>Data Node</em>, and that serves as the main focus of interaction between <em>Agents</em>. An <em>Artifact</em> can 
be atomic or arbitrary complex. The manner in which <em>Artifacts</em> are organized is outside the 
scope of this specification and depends on the implementing community.</p>
   <h3 class="heading settled" data-level="4.3" id="DataNode"><span class="secno">4.3. </span><span class="content">Data Node</span><a class="self-link" href="#DataNode"></a></h3>
   <p>A <em>Data Node</em> is a network node that makes <em>Artifacts</em> available to the network and provides
one or more LDN Inboxes via which <em>Agents</em> that operate on behalf of the <em>Data Node</em> can be 
reached. These LDN Inboxes are set up to receive LDN+AS2 notifications pertaining to the <em>Artifacts</em> that are made available to the network by the <em>Data Node</em>.</p>
   <h3 class="heading settled" data-level="4.4" id="ServiceNode"><span class="secno">4.4. </span><span class="content">Service Node</span><a class="self-link" href="#ServiceNode"></a></h3>
   <p>A <em>Service Node</em> is a network node that provides value-added services for <em>Artifacts</em> hosted
by <em>Data Nodes</em> and provides one or more LDN Inboxes via which <em>Agents</em> that operate on behalf 
of the <em>Service Node</em> can be reached. These LDN Inboxes are set up to receive LDN+AS2 
notifications pertaining to <em>Artifacts</em> that are made available to the network by <em>Data Nodes</em>.</p>
   <h3 class="heading settled" data-level="4.5" id="ServiceResult"><span class="secno">4.5. </span><span class="content">Service Result</span><a class="self-link" href="#ServiceResult"></a></h3>
   <p>A <em>Service Result</em> is the outcome of the provision of a value-added service by a <em>Service Node</em> for an <em>Artifact</em> that is made available to the network by a <em>Data Node</em>. A <em>Service Result</em> can be a Web resource identified by a <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> or information that is provided inline in an 
LDN+AS2 notification.</p>
   <p>A <em>Service Result</em> that is a Web resource identified by a <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> can itself become an <em>Artifact</em> when it is made available to the network by a <em>Data Node</em> that, for example, is associated with 
the <em>Service Node</em> that generated the <em>Service Result</em>. This makes a <em>Service Result</em> available as 
a new <em>Artifact</em> for which new value-added services can be provided.</p>
   <h2 class="heading settled" data-level="5" id="Activities"><span class="secno">5. </span><span class="content">Properties in LDN+AS2 Notifications</span><a class="self-link" href="#Activities"></a></h2>
   <p>In a value-adding network, LDN notifications are sent from one <em>Agent</em> to another <em>Agent</em>. Notification
payloads are expressed using the ActivityStreams 2.0 vocabulary and SHOULD use <a data-link-type="biblio" href="#biblio-json-ld" title="JSON-LD 1.0">[JSON-LD]</a> as default 
syntax, but other RDF syntaxes MAY be used. Each notification describes an <a href="https://www.w3.org/TR/activitystreams-core/#activities">AS2 Activity</a> that involves 
either an <em>Artifact</em>, a <em>Service Result</em> pertaining to an <em>Artifact</em>, or a previous <a href="https://www.w3.org/TR/activitystreams-core/#activities">AS2 Activity</a>.</p>
   <p>This section describes the properties that are used in the notifications to describe an activity and
provides details on their content: the core JSON-LD id and type properties and the AS2 object, origin, 
target, actor, context, inReplyTo properties.</p>
   <h3 class="heading settled" data-level="5.1" id="ActivityId"><span class="secno">5.1. </span><span class="content">JSON-LD id</span><a class="self-link" href="#ActivityId"></a></h3>
   <p>An LDN+AS2 notification MUST specify an identifier for the activity, expressed in JSON-LD as <code>@id</code> or shortened as <code>id</code>,  and its value MUST be a valid <a data-link-type="biblio" href="#biblio-uri" title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</a>. In case this <a data-link-type="biblio" href="#biblio-uri" title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</a> is a <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a>, 
it MUST be dereferencable and return a representation of the notification itself. When referring to an 
activity, its activity identifier MUST be used. Nodes in the network MUST NOT edit or remove the activity 
identifier when processing LDN+AS2 notifications.</p>
   <p>Note that the activity identifier is distinct from the notification identifier, which is the <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> minted by the LDN Receiver when the LDN+AS2 notification that describes the activity is received in 
its LDN Inbox. An LDN Receiver may choose to reflect components of the activity identifier in the 
notification identifier it mints but, in case this happens, network nodes can not infer a relationship 
between the activity identifier and the notification identifier on this basis.</p>
   <p>To establish robust communication on the network, activities have to be at least uniquely identifiable
within the scope of the network. Therefore, an identifier of any kind used MUST be a valid <a data-link-type="biblio" href="#biblio-uri" title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</a>.</p>
   <div class="example" id="example-b26117e6">
    <a class="self-link" href="#example-b26117e6"></a> Alice notifies Bob about the creation of a new Artifact. In the LDN+AS2 payload: 
    <ul>
     <li data-md>
      <p>The activity identifier is <code>https://acme.org/events/alice/0F402B08-F676-40EE-9D4B-480B3F985B65</code>. Since the activity identifier is a <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a>, it can be dereferenced to yield the LDN+AS2 notification that Alice sent to Bob.</p>
     <li data-md>
      <p>Alice is the <em>Agent</em> acting on behalf of a <em>Data Node</em> that has made her <em>Artifact</em> <code>https://acme.org/artifacts/alice/five_steps_to_success.html</code> available.</p>
     <li data-md>
      <p>Bob is the <em>Agent</em> acting on behalf of a <em>Service Node</em> that makes his LDN Inbox <code>https://infinity.science.com/inbox/bob</code> discoverable.</p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="5.2" id="ActivityType"><span class="secno">5.2. </span><span class="content">JSON-LD type</span><a class="self-link" href="#ActivityType"></a></h3>
   <p>An LDN+AS2 notification MUST specify an activity type, expressed in JSON-LD as <code>@type</code> or shortened
as <code>type</code>,  and its value MUST be the type of AS2 Activity that it describes. Only the subset of <a href="https://www.w3.org/TR/activitystreams-core/#activities">AS2 Activity</a> Types shown here are supported:</p>
   <ul>
    <li data-md>
     <p>AS2 Activities that express the state of an <em>Artifact</em>: <code>as:Create</code>, <code>as:Update</code>, <code>as:Remove</code>, <code>as:Announce</code>:</p>
     <ul>
      <li data-md>
       <p><code>as:Create</code>: An <em>Agent</em> created an <em>Artifact</em> that is made available by a <em>Data Node</em>.</p>
      <li data-md>
       <p><code>as:Update</code>: An <em>Agent</em> updated an <em>Artifact</em> that is made available by a <em>Data Node</em>.</p>
      <li data-md>
       <p><code>as:Remove</code>: An <em>Agent</em> deleted an <em>Artifact</em> that is made available by a <em>Data Node</em>.</p>
      <li data-md>
       <p><code>as:Announce</code>: An <em>Agent</em> announces the existence of an <em>Artifact</em> that is made available by a <em>Data Node</em>.  Unlike <code>as:Create</code>, which conveys when an <em>Artifact</em> was created, <code>as:Announce</code> merely conveys its existence.</p>
     </ul>
    <li data-md>
     <p>AS2 Activities that pertain to applying value-adding services to an <em>Artifact</em>: <code>as:Offer</code>, <code>as:Accept</code>, <code>as:Reject</code>, <code>as:Announce</code>, and <code>as:Undo</code>:</p>
     <ul>
      <li data-md>
       <p><code>as:Offer</code>: An <em>Agent</em> offers an <em>Artifact</em> to another <em>Agent</em> in order to request the provision of a service.</p>
      <li data-md>
       <p><code>as:Accept</code>: An <em>Agent</em> accepts to provide a service that was requested for a specific <em>Artifact</em> by another <em>Agent</em>. This is a reply to a previously received <code>as:Offer</code>.</p>
      <li data-md>
       <p><code>as:Reject</code>: An <em>Agent</em> declines to provide a service that was requested for a specific <em>Artifact</em> by another <em>Agent</em>. This is a reply to a previously received <code>as:Offer</code>.</p>
      <li data-md>
       <p><code>as:Announce</code>: An <em>Agent</em> announces a <em>Service Result</em> pertaining to an <em>Artifact</em> that is either the result of executing a previously requested service or is volunteered.</p>
      <li data-md>
       <p><code>as:Undo</code>: An <em>Agent</em> retracts a prior activity of type <code>as:Offer</code>, <code>as:Accept</code>, <code>as:Reject</code>, or <code>as:Announce</code>.</p>
     </ul>
   </ul>
   <p>In addition to these AS2 Activity Types, types (<a data-link-type="biblio" href="#biblio-uri" title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</a>s) originating from vocabularies chosen by an
application domain MAY be specified.</p>
   <div class="example" id="example-135af532">
    <a class="self-link" href="#example-135af532"></a> Bob announces that he endorses the publication of Alice by sharing a review. In the LDN+AS2 notification 
payload: 
    <ul>
     <li data-md>
      <p>Two activity types are indicated: <code>as:Announce</code> as a means to announce the availability of Bob’s review and <code>schema:EndorseAction</code> as a means to convey that Alice’s publication is endorsed by Bob.</p>
     <li data-md>
      <p>Bob is the <em>Agent</em> acting on behalf of <em>Service Node</em> <code>Infiniti science publishing</code>.</p>
     <li data-md>
      <p>Bob’s review is a <em>Service Result</em> made available as a Web resource with URI <code>https://infinity.science.com/artifacts/bob/review_123.html</code>.</p>
     <li data-md>
      <p>Alice is the <em>Agent</em> acting on behalf of a <em>Data Node</em> that has made her Artifact <code>https://acme.org/artifacts/alice/five_steps_to_success.html</code> available and that makes her LDN Inbox <code>https://acme.org/inbox/alice</code> discoverable.</p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="5.3" id="ActivityObject"><span class="secno">5.3. </span><span class="content">AS2 object</span><a class="self-link" href="#ActivityObject"></a></h3>
   <p>An LDN+AS2 notification MUST specify an AS2 object, expressed by means of the <code>as:object</code> property.
Depending on the activity type, the AS2 object can refer to:</p>
   <ul>
    <li data-md>
     <p>An <em>Artifact</em> made available by a <em>Data Node</em>;</p>
    <li data-md>
     <p>A <em>Service Result</em> generated by a <em>Service Node</em>;</p>
    <li data-md>
     <p>A previous activity.</p>
   </ul>
   <p>For <code>as:object</code>, one of the core <a href="https://www.w3.org/TR/activitystreams-core/#object-types">Object Types</a> MUST be expressed. In addition to
these <a href="https://www.w3.org/TR/activitystreams-core/#object-types">Object Types</a>, types (<a data-link-type="biblio" href="#biblio-uri" title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</a>s) originating from vocabularies chosen by an 
application domain MAY be specified.</p>
   <p>In case the AS2 object is an <em>Artifact</em>, it MUST specify the <em>Artifact</em>’s <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> and it is RECOMMENDED
that this <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> supports auto-discovery mechanisms (e.g. a typed link in the HTTP Link header) to 
allow network clients to obtain additional information about the <em>Artifact</em>.  Such additional information 
pertaining to the <em>Artifact</em> MAY also be provided inline as part of the value of the AS2 object.</p>
   <p>In case the AS2 object is a <em>Service Result</em>:</p>
   <ul>
    <li data-md>
     <p>If the <em>Service Result</em> is a Web resource identified by a <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a>, that <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> MUST be provided as the value of the AS2 object;</p>
    <li data-md>
     <p>If the <em>Service Result</em> is not a Web resource identified by a <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a>, it is provided inline as the value of the AS2 object.</p>
     <ul>
      <li data-md>
       <p>As a special case, a <em>Service Result</em> can be linkages, in which case the AS2 activity type is <code>as:Relationship</code> and linkages are provided using AS2’s subject/relationship/object construct.</p>
      <li data-md>
       <p>In case the AS2 object is a previous activity, it MUST at least convey its activity identifier (value of the id property of the prior activity) and it MAY convey additional information about the prior activity.</p>
     </ul>
   </ul>
   <div class="example" id="example-1361c108"><a class="self-link" href="#example-1361c108"></a> In EXAMPLE 1, Alice’s <em>Artifact</em> is the AS2 object and its <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> <code>https://acme.org/artifacts/alice/five_steps_to_success.html</code> is provided as the value of the object property. </div>
   <div class="example" id="example-07e002a4"><a class="self-link" href="#example-07e002a4"></a> In EXAMPLE 2, Bob’s <em>Service Result</em> is the AS2 object and its <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> <code>https://infinity.science.com/artifacts/bob/review_123.html</code> is provided as the value of the object property. </div>
   <div class="example" id="example-e496a92a">
    <a class="self-link" href="#example-e496a92a"></a> Bob announces a linkage between Alice’s Artifact and his review thereof: 
    <ul>
     <li data-md>
      <p>The <em>Service Result</em> is a relationship of type <code>http://purl.org/spar/cito/reviews</code> between Bob’s review and Alice’s <em>Artifact</em>.</p>
     <li data-md>
      <p>Bob is the <em>Agent</em> acting on behalf of <em>Service Node</em> Infiniti science publishing.</p>
     <li data-md>
      <p>Alice is the <em>Agent</em> acting on behalf of a <em>Data Node</em> that has made her <em>Artifact</em> <code>https://acme.org/artifacts/alice/five_steps_to_success.html</code> available and that makes her LDN Inbox https://acme.org/inbox/alice discoverable.</p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="5.4" id="ActivityAddressing"><span class="secno">5.4. </span><span class="content">AS2 actor, AS2 origin, and AS2 target</span><a class="self-link" href="#ActivityAddressing"></a></h3>
   <p>An LDN+AS2 notification:</p>
   <ul>
    <li data-md>
     <p>MUST specify the <em>Agent</em> that sends the notification, expressed by means of the as:actor property and its value MUST be a <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> that identifies the <em>Agent</em>;</p>
    <li data-md>
     <p>MAY additionally specify the LDN Sender software component that was responsible for sending the notification on behalf of the <em>Agent</em>, expressed by means of the <code>as:origin</code> predicate and its value MUST be a <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> that identifies the software component;</p>
    <li data-md>
     <p>MAY specify the <em>Agent</em> to which the notification is addressed, expressed by means of the <code>as:target</code> predicate and its value MUST be a <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> that identifies the <em>Agent</em>.</p>
   </ul>
   <p>For both <code>as:actor</code>, <code>as:origin</code>, and <code>as:target</code>, one of the core <a href="https://www.w3.org/TR/activitystreams-core/#actor-types">AS2 Actor Types</a> MUST be expressed. In addition to these <a href="https://www.w3.org/TR/activitystreams-core/#actor-types">AS2 Actor Types</a>, types (<a data-link-type="biblio" href="#biblio-uri" title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</a>s) originating 
from vocabularies chosen by an application domain MAY be specified.</p>
   <p>Both <code>as:actor</code>, <code>as:origin</code>, and <code>as:target</code> SHOULD have an LDN Inbox. The <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> of the LDN Inbox:</p>
   <ul>
    <li data-md>
     <p>Can be provided as the value of <code>ldp:inbox</code> in the description of these entities in the notification payload;</p>
    <li data-md>
     <p>Can be discovered as the link target of a link with the <code>http://www.w3.org/ns/ldp#inbox</code> link relation type provided in the HTTP Link response header of the <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> of the LDN Inbox.</p>
   </ul>
   <div class="example" id="example-c84bcd07">
    <a class="self-link" href="#example-c84bcd07"></a> In EXAMPLE 5: 
    <ul>
     <li data-md>
      <p>Bob is the <em>Agent</em> that sends the notification: the <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> that identifies Bob, the <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> of Bob’s LDN Inbox, two actor types (an AS2 Actor Type and another), as well as Bob’s name are provided in the <code>as:actor</code> property of the notification payload.</p>
     <li data-md>
      <p>Bob uses an application to send the notification. Information about the application is provided in the <code>as:orgin</code> property.</p>
     <li data-md>
      <p>Bob addresses his notification to Alice. Information about Alice is provided in the <code>as:target</code> property, and includes the <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a>] that identifies Alice, the <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> of her LDN Inbox, and her AS2 Actor Type.</p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="5.5" id="ActivityContext"><span class="secno">5.5. </span><span class="content">AS2 context</span><a class="self-link" href="#ActivityContext"></a></h3>
   <p>When sending a notification to a <em>Data Node</em> that pertains to one of the <em>Artifacts</em> it makes
available, the LDN+AS2 notification SHOULD include the <code>as:context</code> property and, when included, 
MUST at least convey the <em>Artifact</em>’s <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> as its value. This specification accords no specific 
meaning to the use of <code>as:context</code> for notifications sent to a <em>Service Node</em>.</p>
   <p>For <code>as:context</code>, one of the core <a href="https://www.w3.org/TR/activitystreams-core/#object-types">Object Types</a> MAY be expressed. In addition
to these <a href="https://www.w3.org/TR/activitystreams-core/#object-types">Object Types</a>, types ([URIs]) originating from vocabularies chosen by 
an application domain MAY be specified.</p>
   <div class="example" id="example-1e42421f"><a class="self-link" href="#example-1e42421f"></a> In EXAMPLE 2 and EXAMPLE 5, Bob sends notifications about <em>Service Results</em> that pertain to 
Alice’s <em>Artifact</em>. The <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> <code>https://acme.org/artifacts/alice/five_steps_to_success.html</code> of that <em>Artifact</em> is provided in the <code>as:context</code> property of these notifications. </div>
   <div class="example" id="example-35e9cd6a"><a class="self-link" href="#example-35e9cd6a"></a> In EXAMPLE 1, Alice sends a notification announcing the availability of her <em>Artifact</em>.  The <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a> of 
the <em>Artifact</em> is provided using the <code>as:object</code> property whereas as:context is not used because the 
announcement does not pertain to an <em>Artifact</em> that is made available at the recipient’s end. </div>
   <h3 class="heading settled" data-level="5.6" id="ActivityInReplyTo"><span class="secno">5.6. </span><span class="content">AS2 inReplyTo</span><a class="self-link" href="#ActivityInReplyTo"></a></h3>
   <p>An LDN+AS2 notification that is sent in response to a previously received notification, MUST
include the <code>as:inReplyTo</code> property,  and its value MUST be the activity identifier 
(value of the id property) of the previous notification. For such a notification, the <code>as:object</code> property also reflects the activity identifier of the previous notification but can include
additional information, see <a href="#ActivityObject">§ 5.3 AS2 object</a>.</p>
   <p>Examples are provided in <a href="#RequestResponsePatternDNSNAnnounce">§ 6.2.2 Service Node provides Service Result</a> and <a href="#RequestResponsePatternSNSNAnnounce">§ 6.3.2 Service Node provides Service Result</a>.</p>
   <h2 class="heading settled" data-level="6" id="NetworkCommunicationPatterns"><span class="secno">6. </span><span class="content">Network communication patterns</span><a class="self-link" href="#NetworkCommunicationPatterns"></a></h2>
   <p>In a value-adding network, <em>Nodes</em>, in particular the <em>Agents</em> operating on behalf of <em>Nodes</em>,
communicate by sending LDN+AS2 notifications to each other. These notifications are delivered 
to LDN Inboxes that are made available by <em>Data Nodes</em> and <em>Service Nodes</em> for the benefit of <em>Agents</em> that manage <em>Artifacts</em> and service provision, respectively.</p>
   <p>Depending on the type of interaction an <em>Agent</em> is a sender or receiver of messages. This
specification describes the following communication patterns between the <em>Nodes</em> in the network: <strong>one-way communication</strong> and <strong>request-response</strong> communication patterns. They are detailed in 
the remainder of this section.</p>
   <h3 class="heading settled" data-level="6.1" id="one-way-communication-patterns"><span class="secno">6.1. </span><span class="content">One-way communication patterns</span><a class="self-link" href="#one-way-communication-patterns"></a></h3>
   <p>In the <strong>one-way</strong> communication patterns, notifications express facts such as “I performed this
activity on an <em>Artifact</em>”. There is no expectation that such notifications yield a response.</p>
   <p>In general, in a one-way communication, a <em>Node</em> provides unsolicited information to another <em>Node</em>.
Various one-way patterns exist:</p>
   <ul>
    <li data-md>
     <p>In a one-way communication from a <em>Data Node</em> to a <em>Service Node</em>, an <em>Agent</em> operating on behalf of the <em>Data Node</em> volunteers information about an activity pertaining to an <em>Artifact</em> made available by the <em>Data Node</em> to an <em>Agent</em> at the end of the <em>Service Node</em>.</p>
    <li data-md>
     <p>In a one-way communication from a <em>Service Node</em> to a <em>Data Node</em>, an <em>Agent</em> operating on behalf of the <em>Service Node</em> volunteers information regarding a <em>Service Result</em> pertaining to an <em>Artifact</em> made available by the <em>Data Node</em> to an <em>Agent</em> at the end of that <em>Data Node</em>.</p>
    <li data-md>
     <p>In a one-way communication from <em>Service Node</em> to <em>Service Node</em>, an <em>Agent</em> operating on behalf of the sending <em>Node</em> forwards information regarding a <em>Service Result</em> to the receiving Node.</p>
   </ul>
   <h4 class="heading settled" data-level="6.1.1" id="OneWayPatternDNSN"><span class="secno">6.1.1. </span><span class="content">Data Node to Service Node</span><a class="self-link" href="#OneWayPatternDNSN"></a></h4>
   <p><em>Figure 2: A Data Node sends a notification about an Artifact to a Service Node.</em></p>
   <p>The <strong>one-way Data Node to Service Node</strong> pattern is used for sending unsolicited information
pertaining to an <em>Artifact</em> to another <em>Agent</em> in the network. These cases that are considered:</p>
   <ul>
    <li data-md>
     <p>Informing the receiving <em>Agent</em> about <em>CRUD</em> (Create, Update, Delete) actions on the <em>Artifact</em>;</p>
    <li data-md>
     <p>Announcing the existence of an <em>Artifact</em> to the receiving <em>Agent</em>.</p>
   </ul>
   <p>For such a notification:</p>
   <ul>
    <li data-md>
     <p>The activity type is <code>as:Create</code>, <code>as:Remove</code>, <code>as:Update</code>, or <code>as:Announce</code>.</p>
    <li data-md>
     <p>The <code>as:object</code> property provides information regarding the <em>Artifact</em> to which the activity pertains.</p>
    <li data-md>
     <p>The requirements regarding properties are summarized in the table below and their use is subject to the guidelines provided in <a href="#Activities">§ 5 Properties in LDN+AS2 Notifications</a>.</p>
   </ul>
   <table>
    <caption>Table 1: One-way Data Node to Service Node requirements.</caption>
    <thead>
     <tr>
      <th>Requirements
      <td>Properties
    <tbody>
     <tr>
      <th>Required 
      <td><strong>@id</strong>, <strong>@type</strong>, <strong>as:actor</strong>, <strong>as:object</strong>
     <tr>
      <th>Optional 
      <td><strong>as:origin</strong>, <strong>as:target</strong>
     <tr>
      <th>Not used
      <td><strong>as:context</strong> , <strong>as:inReplyTo</strong>
   </table>
   <div class="example" id="example-a055b18b">
    <a class="self-link" href="#example-a055b18b"></a> 
    <p>The ACME Research Institute (Data Node) notifies Infinity Science (Service Node) in a one-way pattern
about the creation of the new Artifact http://acme.org/artifacts/alice/five_steps_to_success.html.</p>
   </div>
   <h4 class="heading settled" data-level="6.1.2" id="OneWayPatternSNDN"><span class="secno">6.1.2. </span><span class="content">Service Node to Data Node</span><a class="self-link" href="#OneWayPatternSNDN"></a></h4>
   <p><em>Figure 3: A Service Node sends a notification about a Service Result pertaining to an Artifact
to a Data Node.</em></p>
   <p>The <strong>one-way Service Node to Data Node</strong> pattern is used to send an unsolicited notification about a <em>Service Result</em> pertaining to an <em>Artifact</em> to an <em>Agent</em> at the end of the <em>Data Node</em> that makes the <em>Artifact</em> available.</p>
   <p>For such a notification:</p>
   <ul>
    <li data-md>
     <p>The activity type is <code>as:Announce</code>.</p>
    <li data-md>
     <p>The <code>as:object</code> property conveys the <em>Service Result</em>.</p>
    <li data-md>
     <p>The <code>as:context</code> property conveys information regarding the <em>Artifact</em> to which the <em>Service Result</em> pertains.</p>
    <li data-md>
     <p>The requirements regarding properties are summarized in the table below and their use is subject to the guidelines provided in <a href="#Activities">§ 5 Properties in LDN+AS2 Notifications</a>.</p>
   </ul>
   <table>
    <caption>Table 2: One-way Service Node to Data Node requirements.</caption>
    <thead>
     <tr>
      <th>Requirements
      <td>Properties
    <tbody>
     <tr>
      <th>Required 
      <td><strong>@id</strong>, <strong>@type</strong>, <strong>as:actor</strong>, <strong>as:context</strong>, <strong>as:object</strong>
     <tr>
      <th>Optional 
      <td><strong>as:origin</strong>, <strong>as:target</strong>
     <tr>
      <th>Not used
      <td><strong>as:inReplyTo</strong>
   </table>
   <div class="example" id="example-319421b2"><a class="self-link" href="#example-319421b2"></a> The Fairfield City Repository (Service Node) notifies ACME Research Institute (Data Node) in a one-way 
pattern about the creation of an archival copy Service Result https://darwin.fairfield.org/objects/317831-13210
related to ACME’s Artifact http://acme.org/artifacts/alice/five_steps_to_success.html. </div>
   <h4 class="heading settled" data-level="6.1.3" id="OneWayPatternSNSN"><span class="secno">6.1.3. </span><span class="content">Service Node to Service Node</span><a class="self-link" href="#OneWayPatternSNSN"></a></h4>
   <p><em>Figure 4: Service Node A sends a notification about a Service Result pertaining to an Artifact
of some Data Node to another Service Node B.</em></p>
   <p>The <strong>one-way Service Node to Service Node</strong> pattern is used to forward an unsolicited <em>Service Result</em> from one <em>Service Node</em> to another <em>Service Node</em>. An <em>Agent</em> operating on behalf of the sending <em>Service Node</em> volunteers a <em>Service Result</em> by sending a notification to an <em>Agent</em> at the end of the 
receiving <em>Service Node</em>. The <em>Service Result</em> is the outcome of the provision of a service for an <em>Artifact</em> that is made available by a <em>Data Node</em>.</p>
   <p>For such a notification:</p>
   <ul>
    <li data-md>
     <p>The activity type is <code>as:Announce</code>.</p>
    <li data-md>
     <p>The <code>as:object</code> property conveys the <em>Service Result</em>.</p>
    <li data-md>
     <p>The <code>as:context</code> property conveys information regarding the <em>Artifact</em> to which the <em>Service Result</em> pertains.</p>
    <li data-md>
     <p>The requirements regarding properties are summarized in the table below and their use is subject to the guidelines provided in <a href="#Activities">§ 5 Properties in LDN+AS2 Notifications</a>.</p>
   </ul>
   <table>
    <caption>Table 3: One-way Service Node to Service Node requirements.</caption>
    <thead>
     <tr>
      <th>Requirements
      <td>Properties
    <tbody>
     <tr>
      <th>Required 
      <td><strong>@id</strong>, <strong>@type</strong>, <strong>as:actor</strong>, <strong>as:object</strong>
     <tr>
      <th>Optional 
      <td><strong>as:context</strong>, <strong>as:origin</strong>, <strong>as:target</strong>
     <tr>
      <th>Not used
      <td><strong>as:inReplyTo</strong>
   </table>
   <div class="example" id="example-ffe24b2a"><a class="self-link" href="#example-ffe24b2a"></a> The Fairfield City Repository (Service Node) notifies the Arsip Nasional Republik 
Indonesia (Service Node) in a one-way pattern about the creation of an archival copy Service Result
https://darwin.fairfield.org/objects/317831-13210 of an Artifact at the ACME Research Institute 
(Data Node). </div>
   <h3 class="heading settled" data-level="6.2" id="RequestResponsePatternDNSN"><span class="secno">6.2. </span><span class="content">Request-response: Data Node to Service Node</span><a class="self-link" href="#RequestResponsePatternDNSN"></a></h3>
   <p>The <strong>request-response</strong> communication pattern between <em>Data Node</em> and <em>Service Node</em> entails a
more elaborate back and forth communication regarding the provision, by a <em>Service Node</em>, of a 
value-added service for an <em>Artifact</em> that is made available by a <em>Data Node</em>. In a request-response 
communication regarding the provision of a service, notifications can be exchanged between <em>Nodes</em> over time spans that could be near immediate but could also span days, weeks, or even months. 
The manner in which a service is provided is not in scope of this specification. The aspects that are 
considered are only whether a <em>Service Node</em> is willing to provide a requested service or not, and 
if so, what the <em>Service Result</em> is.</p>
   <p>In general, this <em>request-response</em> pattern is transactional. The <em>Data Node</em> that initiates the
communication, expects a reply from the <em>Service Node</em>. The overall information flow in a 
request-response communication is as follows:</p>
   <ul>
    <li data-md>
     <p>An <em>Agent</em> operating on behalf of a <em>Data Node</em> sends a request notification to an <em>Agent</em> operating at the end of a <em>Service Node</em> asking for the provision of a service for an <em>Artifact</em> that is made available by the <em>Data Node</em>.</p>
    <li data-md>
     <p>An <em>Agent</em> operating on behalf of the <em>Service Node</em> sends a response notification to an <em>Agent</em> at the end of the <em>Data Node</em> announcing the <em>Service Result</em>.</p>
    <li data-md>
     <p>Optionally, after having received a request notification, an <em>Agent</em> at the end of the <em>Service Node</em> can send a response notification to an <em>Agent</em> at the end of the <em>Data Node</em> to indicate whether the <em>Service Node</em> accepts or declines the request to provide a service.</p>
    <li data-md>
     <p>An <em>Agent</em> operating on behalf of a <em>Data Node</em> can send a notification to an <em>Agent</em> operating at the end of a <em>Service Node</em> requesting to cancel a previous request for provision of a service for an <em>Artifact</em> that is made available by the <em>Data Node</em>. Such a cancellation request can be sent at any stage of the request-response pattern but it is up to the <em>Service Node</em> to decide whether or not it effectively results in not providing the initially requested service.</p>
   </ul>
   <h4 class="heading settled" data-level="6.2.1" id="RequestResponsePatternDNSNOffer"><span class="secno">6.2.1. </span><span class="content">Data Node requests service</span><a class="self-link" href="#RequestResponsePatternDNSNOffer"></a></h4>
   <p><em>Figure 5: A Data Node sends a notification with activity type as:Offer to a Service Node as a means
to request a value-added service for one of its Artifacts.</em></p>
   <p>The request-response pattern between a <em>Data Node</em> and a <em>Service Node</em> starts when an <em>Agent</em> operating
on behalf of a <em>Data Node</em> sends a notification to an <em>Agent</em> operating at the end of a <em>Service Node</em> asking for the provision of a service for an <em>Artifact</em> that is made available by the <em>Data Node</em>.</p>
   <p>For such a notification:</p>
   <ul>
    <li data-md>
     <p>The activity type is <code>as:Offer</code>.</p>
    <li data-md>
     <p>The <code>as:object</code> property provides information about the <em>Artifact</em> for which the service is requested.</p>
    <li data-md>
     <p>The requirements regarding properties are summarized in the table below and their use is subject to the guidelines provided in <a href="#Activities">§ 5 Properties in LDN+AS2 Notifications</a>.</p>
   </ul>
   <table>
    <caption>Table 4: Request-response Data Node requests service requirements.</caption>
    <thead>
     <tr>
      <th>Requirements
      <td>Properties
    <tbody>
     <tr>
      <th>Required 
      <td><strong>@id</strong>, <strong>@type</strong>, <strong>as:actor</strong>, <strong>as:object</strong>
     <tr>
      <th>Optional 
      <td><strong>as:origin</strong>, <strong>as:target</strong>
     <tr>
      <th>Not used
      <td><strong>as:context</strong> , <strong>as:inReplyTo</strong>
   </table>
   <div class="example" id="example-8f44fab2"><a class="self-link" href="#example-8f44fab2"></a> The ACME Research Institute (Data Node) notifies the Data Archive XYZ 
(Service Node) in a request-response pattern about the Artifact  
http://acme.org/artifacts/alice/data-set-2022-01-19.zip on ACME’s system they want
to Offer for archivation. </div>
   <h4 class="heading settled" data-level="6.2.2" id="RequestResponsePatternDNSNAnnounce"><span class="secno">6.2.2. </span><span class="content">Service Node provides Service Result</span><a class="self-link" href="#RequestResponsePatternDNSNAnnounce"></a></h4>
   <p><em>Figure 6: The Service Node has a Service Result available pertaining to the Artifact
on the Data Node. The Service Node sends an Announce notification to the Data Node about
this fact.</em></p>
   <p>The request-response pattern between a <em>Data Node</em> and a <em>Service Node</em> completes when an <em>Agent</em> operating on behalf of a <em>Service Node</em> sends a notification to an <em>Agent</em> operating 
at the end of a <em>Data Node</em> conveying the <em>Service Result</em> for a service that was previously requested.</p>
   <p>For such a notification:</p>
   <ul>
    <li data-md>
     <p>The activity type is <code>as:Announce</code>.</p>
    <li data-md>
     <p>The <code>as:object</code> property conveys the <em>Service Result</em>.</p>
    <li data-md>
     <p>The <code>as:context</code> property refers to the <em>Artifact</em> for which the service was requested, i.e.  the value of the <code>as:object</code> property of the prior request for service that was sent by means of a notification with the <code>as:Offer</code> activity type (see <a href="#RequestResponsePatternDNSNOffer">§ 6.2.1 Data Node requests service</a>).</p>
    <li data-md>
     <p>The <code>as:inReplyTo</code> property conveys the activity identifier (value of the <code>id</code> property) of the service request that was sent by means of a notification with the <code>as:Offer</code> activity type (see section <a href="#RequestResponsePatternDNSNOffer">§ 6.2.1 Data Node requests service</a>).</p>
    <li data-md>
     <p>The requirements regarding properties are summarized in the table below and their use is subject to the guidelines provided in <a href="#Activities">§ 5 Properties in LDN+AS2 Notifications</a>.</p>
   </ul>
   <table>
    <caption>Table 5: Request-response Service Node provides Service Result requirements.</caption>
    <thead>
     <tr>
      <th>Requirements
      <td>Properties
    <tbody>
     <tr>
      <th>Required 
      <td><strong>@id</strong>, <strong>@type</strong>, <strong>as:actor</strong>, <strong>as:object</strong>, <strong>as:inReplyTo</strong>
     <tr>
      <th>Recommended 
      <td><strong>as:context</strong>
     <tr>
      <th>Optional 
      <td><strong>as:origin</strong>, <strong>as:target</strong>
   </table>
   <div class="example" id="example-6f152e50"><a class="self-link" href="#example-6f152e50"></a> The Data Archive XYZ (Service Node) notifies the ACME Research Institute 
(Data Node) in a request-response pattern that it announces a new Service Result 
pertaining to ACME’s Artifact http://acme.org/artifacts/alice/data-set-2022-01-19.zip. </div>
   <h4 class="heading settled" data-level="6.2.3" id="RequestResponsePatternDNSNAcknowledge"><span class="secno">6.2.3. </span><span class="content">Service Node acknowledges a service request</span><a class="self-link" href="#RequestResponsePatternDNSNAcknowledge"></a></h4>
   <p><em>Figure 7: A Service Node optionally acknowledges a previously sent Offer that was
sent by a Data Node.</em></p>
   <p>An <em>Agent</em> operating on behalf of a <em>Service Node</em> can send a notification to an <em>Agent</em> operating
at the end of a <em>Data Node</em> to acknowledge the receipt of a service request and to indicate 
whether or not the service will actually be provided.</p>
   <p>For such a notification:</p>
   <ul>
    <li data-md>
     <p>The <code>as:object</code> property refers to the prior request for service that was sent by means of a notification with the <code>as:Offer</code> activity type (see <a href="#RequestResponsePatternDNSNOffer">§ 6.2.1 Data Node requests service</a>). It conveys at least its activity identifier (value of the <code>id</code> property).</p>
    <li data-md>
     <p>The <code>as:context</code> property refers to the Artifact for which the service was requested, i.e. the value of the <code>as:object</code> property of the prior request for service that was sent by means of a notification with the <code>as:Offer</code> activity type (see <a href="#RequestResponsePatternDNSNOffer">§ 6.2.1 Data Node requests service</a>).</p>
    <li data-md>
     <p>The <code>as:inReplyTo</code> property conveys the activity identifier (value of the <code>id</code> property) of the service request that was sent by means of a notification with the <code>as:Offer</code> activity type (see <a href="#RequestResponsePatternDNSNOffer">§ 6.2.1 Data Node requests service</a>).</p>
    <li data-md>
     <p>The requirements regarding properties are summarized in the table below and their use is subject to the guidelines provided in <a href="#Activities">§ 5 Properties in LDN+AS2 Notifications</a>.</p>
   </ul>
   <table>
    <caption>Table 6: Request-response Service Node acknowledges a service request requirements.</caption>
    <thead>
     <tr>
      <th>Requirements
      <td>Properties
    <tbody>
     <tr>
      <th>Required 
      <td><strong>@id</strong>, <strong>@type</strong>, <strong>as:actor</strong>, <strong>as:object</strong>
     <tr>
      <th>Recommended 
      <td><strong>as:context</strong>, <strong>as:inReplyTo</strong>
     <tr>
      <th>Optional 
      <td><strong>as:origin</strong>, <strong>as:target</strong>
   </table>
   <div class="example" id="example-3384c3c5"><a class="self-link" href="#example-3384c3c5"></a> The Data Archive XYZ (Service Node) notifies the ACME Research Institute 
(Data Node) in a request-response pattern that it accepts the offer ACME sent in a
previous activity notification. </div>
   <div class="example" id="example-e7f163fe"><a class="self-link" href="#example-e7f163fe"></a> The Data Archive XYZ (Service Node) notifies the ACME Research Institute 
(Data Node) in a request-response pattern that it rejects the offer ACME sent in a previous 
activity notification. </div>
   <h4 class="heading settled" data-level="6.2.4" id="RequestResponsePatternDNSNUndo"><span class="secno">6.2.4. </span><span class="content">Data Node cancels prior service request</span><a class="self-link" href="#RequestResponsePatternDNSNUndo"></a></h4>
   <p><em>Figure 8:  Data Node sends a notification with activity type as:Undo to a Service Node
canceling its previous Offer notification.</em></p>
   <p>An <em>Agent</em> operating on behalf of a <em>Data Node</em> can send a notification to an <em>Agent</em> operating
at the end of a <em>Service Node</em> requesting to cancel a previous request for the provision of a 
service for an <em>Artifact</em> that is made available by the <em>Data Node</em>.</p>
   <p>For such a notification:</p>
   <ul>
    <li data-md>
     <p>The activity type is <code>as:Undo</code>.</p>
    <li data-md>
     <p>The <code>as:object</code> property refers to the prior request for service that was sent by means of a notification with the <code>as:Offer</code> activity type (see <a href="#RequestResponsePatternDNSNOffer">§ 6.2.1 Data Node requests service</a>). It conveys at least its activity identifier (value of the <code>id</code> property).</p>
    <li data-md>
     <p>The requirements regarding properties are summarized in the table below and their use is subject to the guidelines provided in <a href="#Activities">§ 5 Properties in LDN+AS2 Notifications</a>.</p>
   </ul>
   <table>
    <caption>Table 7: Request-response Service Node cancels prior service request requirements.</caption>
    <thead>
     <tr>
      <th>Requirements
      <td>Properties
    <tbody>
     <tr>
      <th>Required 
      <td><strong>@id</strong>, <strong>@type</strong>, <strong>as:actor</strong>, <strong>as:object</strong>
     <tr>
      <th>Optional 
      <td><strong>as:origin</strong>, <strong>as:target</strong>
     <tr>
      <th>Not used
      <td><strong>as:context</strong>, <strong>as:inReplyTo</strong>
   </table>
   <div class="example" id="example-27891a34"><a class="self-link" href="#example-27891a34"></a> The ACME Research Institute (Data Node) sends a cancelation to 
Data Archive XYZ (Service Node) of the Offer that was sent in Example 12. </div>
   <h3 class="heading settled" data-level="6.3" id="RequestResponsePatternSNSN"><span class="secno">6.3. </span><span class="content">Request-response: Service Node to Service Node</span><a class="self-link" href="#RequestResponsePatternSNSN"></a></h3>
   <p>Cases exist in which a <em>Service Node</em> needs the help of another <em>Service Node</em> to provide
value-added services for an <em>Artifact</em> that is made available by a <em>Data Node</em>. In such cases, 
the former <em>Service Node</em> can forward a <em>Service Result</em> to the latter <em>Service Node</em> to 
request further services.</p>
   <p>The <strong>request-response Service Node to Service Node</strong> pattern is used by an <em>Agent</em> operating
on behalf of a <em>Service Node</em> to invoke a service from another <em>Service Node</em>.  In this 
request-response communication, notifications can be exchanged between the <em>Service Nodes</em> over time spans that could be near immediate but could also span days, weeks, or even months. 
The manner in which the <em>Service Node</em> that receives the service request generates its <em>Service Result</em> is not in scope of this specification. The aspects that are considered are only whether that <em>Service Node</em> is willing to provide a requested service or not, and if so, what the <em>Service Result</em> is.</p>
   <p>In general, this <strong>request-response</strong> pattern is transactional. The <em>Service Node</em> that initiates
the communication, expects a reply from the <em>Service Node</em> that receives the service request. The 
overall information flow in this request-response communication is as follows:</p>
   <ul>
    <li data-md>
     <p>An <em>Agent</em> operating on behalf of a <em>Service Node</em> A sends a request notification to an <em>Agent</em> operating at the end of <em>Service Node</em> B asking for the provision of a service for a <em>Service Result</em> that <em>Service Node</em> A generated.</p>
    <li data-md>
     <p>An <em>Agent</em> operating on behalf of <em>Service Node</em> B sends a response notification to an <em>Agent</em> at the end of the <em>Service Node</em> A announcing its <em>Service Result</em>.</p>
    <li data-md>
     <p>Optionally, after having received a request notification, an <em>Agent</em> at the end of the <em>Service Node</em> B can send a response notification to an <em>Agent</em> at the end of the <em>Service Node</em> A to indicate whether <em>Service Node</em> B accepts or declines the request to provide a service.</p>
    <li data-md>
     <p>An Agent operating on behalf of <em>Service Node</em> A can send a notification to an <em>Agent</em> operating at the end of a <em>Service Node</em> B requesting to cancel a service request it previously sent. Such a cancellation request can be sent at any stage of the request-response pattern but it is up to <em>Service Node</em> B to decide whether or not it effectively results in not providing the initially requested service.</p>
   </ul>
   <h4 class="heading settled" data-level="6.3.1" id="RequestResponsePatternSNSNOffer"><span class="secno">6.3.1. </span><span class="content">Service Node requests service</span><a class="self-link" href="#RequestResponsePatternSNSNOffer"></a></h4>
   <p><em>Figure 9: Service Node A sends an Offer to Service Node  B requesting a value-added service
for a Service Result pertaining to an Artifact on a Data Node. The Offer could have been triggered by a 
Data Node requesting a value-added service from Service Node A that Service Node A forwards
to Service Node B.</em></p>
   <p>The request-response pattern between two <em>Service Nodes</em> starts when an <em>Agent</em> operating on behalf
of a Service Node A sends a notification to an <em>Agent</em> operating at the end of a <em>Service Node</em> B 
asking for the provision of a service for a <em>Service Result</em> generated by <em>Service Node</em> A.</p>
   <p>For such a notification:</p>
   <ul>
    <li data-md>
     <p>The activity type is <code>as:Offer</code>.</p>
    <li data-md>
     <p>The <code>as:object</code> property provides information about the <em>Service Result</em> generated by <em>Service Node</em> A for which the service is requested from <em>Service Node</em> B.</p>
    <li data-md>
     <p>The requirements regarding properties are summarized in the table below and their use is subject to the guidelines provided in <a href="#Activities">§ 5 Properties in LDN+AS2 Notifications</a>.</p>
   </ul>
   <table>
    <caption>Table 8: Request-response Service Node request service requirements.</caption>
    <thead>
     <tr>
      <th>Requirements
      <td>Properties
    <tbody>
     <tr>
      <th>Required 
      <td><strong>@id</strong>, <strong>@type</strong>, <strong>as:actor</strong>, <strong>as:object</strong>
     <tr>
      <th>Optional 
      <td><strong>as:origin</strong>, <strong>as:target</strong>
     <tr>
      <th>Not used
      <td><strong>as:context</strong>, <strong>as:inReplyTo</strong>
   </table>
   <div class="example" id="example-a8188b77"><a class="self-link" href="#example-a8188b77"></a> The Data Archive XYZ (Service Node A) received an Offer from ACME Research 
Institute (Data Node). Service Node A decides to delegate the offer to their Australian
office Data Archive XYZ Australia (Service Node B). </div>
   <h4 class="heading settled" data-level="6.3.2" id="RequestResponsePatternSNSNAnnounce"><span class="secno">6.3.2. </span><span class="content">Service Node provides Service Result</span><a class="self-link" href="#RequestResponsePatternSNSNAnnounce"></a></h4>
   <p><em>Figure 10: Service Node B has a Service Result available pertaining to the Service Result
on Service Node A. The Service Node B sends an Announce notification to Service Node A about
this fact.</em></p>
   <p>The request-response pattern between <em>Service Node</em> A and a <em>Service Node</em> B completes when an <em>Agent</em> operating on behalf of a <em>Service Node</em> B sends a notification to an <em>Agent</em> operating at 
the end of <em>Service Node</em> A conveying the <em>Service Result</em> generated by <em>Service Node</em> B in 
response to a request from <em>Service Node</em> A.</p>
   <p>For such a notification:</p>
   <ul>
    <li data-md>
     <p>The <code>as:object</code> property conveys the <em>Service Result</em> generated by <em>Service Node</em> B.</p>
    <li data-md>
     <p>The <code>as:context</code> property refers to the <em>Service Result</em> for which the service was requested, i.e. the value of the <code>as:object</code> property of the prior request for service that was sent by means of a notification with the <code>as:Offer</code> activity type (see <a href="#RequestResponsePatternSNSNOffer">§ 6.3.1 Service Node requests service</a>).</p>
    <li data-md>
     <p>The <code>as:inReplyTo</code> property conveys the activity identifier (value of the <code>id</code> property) of the service request that was sent by means of a notification with the <code>as:Offer</code> activity type (see section <a href="#RequestResponsePatternSNSNOffer">§ 6.3.1 Service Node requests service</a>).</p>
    <li data-md>
     <p>The requirements regarding properties are summarized in the table below and their use is subject to the guidelines provided in <a href="#Activities">§ 5 Properties in LDN+AS2 Notifications</a>.</p>
   </ul>
   <table>
    <caption>Table 9: Request-response Service Node provides Service Result requirements.</caption>
    <thead>
     <tr>
      <th>Requirements
      <td>Properties
    <tbody>
     <tr>
      <th>Required 
      <td><strong>@id</strong>, <strong>@type</strong>, <strong>as:actor</strong>, <strong>as:object</strong>, <strong>as:inReplyTo</strong>
     <tr>
      <th>Recommended 
      <td><strong>as:context</strong>
     <tr>
      <th>Optional 
      <td><strong>as:origin</strong>, <strong>as:target</strong>
   </table>
   <div class="example" id="example-8a80dfa9"><a class="self-link" href="#example-8a80dfa9"></a> Data Archive XYZ Australia (Service Node B) notifies Data Archive XYZ  
(Service Node A) in a request-response pattern that it announces a new Service Result 
pertaining to Service Node A Service Result urn:uuid:6E5FAF88-A7F1-47A4-B087-77345EBFF495. </div>
   <h4 class="heading settled" data-level="6.3.3" id="RequestResponsePatternSNSNAcknowledge"><span class="secno">6.3.3. </span><span class="content">Service Node acknowledges a service request</span><a class="self-link" href="#RequestResponsePatternSNSNAcknowledge"></a></h4>
   <p><em>Figure 11: Service Node B optionally acknowledges an offer that was previously sent by Service Node A.</em></p>
   <p>An <em>Agent</em> operating on behalf of <em>Service Node</em> A can send a notification to an <em>Agent</em> operating at the end of <em>Service Node</em> B to acknowledge the receipt of a service request 
and to indicate whether or not the service will actually be provided.</p>
   <p>For such a notification:</p>
   <ul>
    <li data-md>
     <p>The activity type is <code>as:Accept</code> when the service will be provided and <code>as:Reject</code> when not.</p>
    <li data-md>
     <p>The <code>as:object</code> property refers to the prior request for service that was sent by means of a notification with the <code>as:Offer</code> activity type (see <a href="#RequestResponsePatternSNSNOffer">§ 6.3.1 Service Node requests service</a>). It conveys at least its activity identifier (value of the <code>id</code> property).</p>
    <li data-md>
     <p>The <code>as:context</code> property refers to the <em>Service Result</em> for which the service was requested, i.e.  the value of the <code>as:object</code> property of the prior request for service that was sent by means of a notification with the <code>as:Offer</code> activity type (see <a href="#RequestResponsePatternSNSNOffer">§ 6.3.1 Service Node requests service</a>).</p>
    <li data-md>
     <p>The <code>as:inReplyTo</code> property conveys the activity identifier (value of the <code>id</code> property) of the service request that was sent by means of a notification with the <code>as:Offer</code> activity type (see <a href="#RequestResponsePatternSNSNOffer">§ 6.3.1 Service Node requests service</a>).</p>
    <li data-md>
     <p>The requirements regarding properties are summarized in the table below and their use is subject to the guidelines provided in <a href="#Activities">§ 5 Properties in LDN+AS2 Notifications</a>.</p>
   </ul>
   <table>
    <caption>Table 10: Request-response Service Node acknowledges a service request requirements.</caption>
    <thead>
     <tr>
      <th>Requirements
      <td>Properties
    <tbody>
     <tr>
      <th>Required 
      <td><strong>@id</strong>, <strong>@type</strong>, <strong>as:actor</strong>, <strong>as:object</strong>
     <tr>
      <th>Recommended 
      <td><strong>as:context</strong>, <strong>as:inReplyTo</strong>
     <tr>
      <th>Optional 
      <td><strong>as:origin</strong>, <strong>as:target</strong>
   </table>
   <div class="example" id="example-15094dac"><a class="self-link" href="#example-15094dac"></a> Data Archive XYZ Australia (Service Node B) sends an Accept to 
Data Archive XYZ (Service Node A) of the Offer that was sent in Example 17. </div>
   <div class="example" id="example-00945e10"><a class="self-link" href="#example-00945e10"></a> Data Archive XYZ Australia (Service Node B) notifies the Data Archive XYZ (Service Node A) 
in a request-response pattern that it rejects the offer sent in a previous activity notification. </div>
   <h4 class="heading settled" data-level="6.3.4" id="RequestResponsePatternSNSNUndo"><span class="secno">6.3.4. </span><span class="content">Service Node cancels prior service request</span><a class="self-link" href="#RequestResponsePatternSNSNUndo"></a></h4>
   <p><em>Figure 12: Service Node A sends a notification of type as:Undo to Service Node B cancelling its previous
Offer notification.</em></p>
   <p>An <em>Agent</em> operating on behalf of <em>Service Node</em> A can send a notification to an <em>Agent</em> operating at
the end of a <em>Service Node</em> B requesting to cancel a previous request for the provision of a service
for a <em>Service Result</em> that was generated by the <em>Data Node</em> A.</p>
   <p>For such a notification:</p>
   <ul>
    <li data-md>
     <p>The activity type is <code>as:Undo</code>.</p>
    <li data-md>
     <p>The <code>as:object</code> property refers to the prior request for service that was sent by means of a notification with the <code>as:Offer</code> activity type (see <a href="#RequestResponsePatternSNSNOffer">§ 6.3.1 Service Node requests service</a>). It conveys at least its activity identifier (value of the <code>id</code> property).</p>
    <li data-md>
     <p>The requirements regarding properties are summarized in the table below and their use is subject to the guidelines provided in <a href="#Activities">§ 5 Properties in LDN+AS2 Notifications</a>.</p>
   </ul>
   <table>
    <caption>Table 11: Request-response Service Node cancels prior service request requirements.</caption>
    <thead>
     <tr>
      <th>Requirements
      <td>Properties
    <tbody>
     <tr>
      <th>Required 
      <td><strong>@id</strong>, <strong>@type</strong>, <strong>as:actor</strong>, <strong>as:object</strong>
     <tr>
      <th>Optional 
      <td><strong>as:origin</strong>, <strong>as:target</strong>
     <tr>
      <th>Not used
      <td><strong>as:context</strong>, <strong>as:inReplyTo</strong>
   </table>
   <div class="example" id="example-3e756d82"><a class="self-link" href="#example-3e756d82"></a> Data Archive XYZ (Service Node A) sends a cancelation to 
Data Archive XYZ Australia (Service Node B) of the Offer that was sent in Example 17. </div>
   <h2 class="heading settled" data-level="7" id="Discovery"><span class="secno">7. </span><span class="content">Discovery of LDN Inboxes</span><a class="self-link" href="#Discovery"></a></h2>
   <p class="issue" id="issue-b7b1e314"><a class="self-link" href="#issue-b7b1e314"></a> TODO</p>
   <h2 class="heading settled" data-level="8" id="Serialalization"><span class="secno">8. </span><span class="content">Serialization of LDN+AS2 notifications</span><a class="self-link" href="#Serialalization"></a></h2>
   <p class="issue" id="issue-b7b1e314①"><a class="self-link" href="#issue-b7b1e314①"></a> TODO</p>
   <h2 class="heading settled" data-level="9" id="Validation"><span class="secno">9. </span><span class="content">Validation of LDN+AS2 notifications</span><a class="self-link" href="#Validation"></a></h2>
   <p class="issue" id="issue-b7b1e314②"><a class="self-link" href="#issue-b7b1e314②"></a> TODO</p>
   <h2 class="heading settled" data-level="10" id="ServiceDescription"><span class="secno">10. </span><span class="content">Service description of LDN Targets</span><a class="self-link" href="#ServiceDescription"></a></h2>
   <p class="issue" id="issue-b7b1e314③"><a class="self-link" href="#issue-b7b1e314③"></a> TODO</p>
   <h2 class="heading settled" data-level="11" id="acknowledgements"><span class="secno">11. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>
   <p>Our work is funded by the Andrew W. Mellon Foundation (grant number: 1903-06675).</p>
  </main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-as2">[AS2]
   <dd>James M Snell; Evan Prodromou. <a href="https://www.w3.org/TR/activitystreams-core/"><cite>Activity Streams 2.0</cite></a>. W3C Recommendation 23 May 2017. URL: <a href="https://www.w3.org/TR/activitystreams-core/">https://www.w3.org/TR/activitystreams-core/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-json-ld">[JSON-LD]
   <dd>Manu Sporny; Gregg Kellogg; Markus Lanthaler. <a href="https://www.w3.org/TR/json-ld/"><cite>JSON-LD 1.0</cite></a>. 3 November 2020. REC. URL: <a href="https://www.w3.org/TR/json-ld/">https://www.w3.org/TR/json-ld/</a>
   <dt id="biblio-ldn">[LDN]
   <dd>Sarven Capadisli; Amy Guy. <a href="https://linkedresearch.org/ldn/"><cite>Linked Data Notifications</cite></a>. URL: <a href="https://linkedresearch.org/ldn/">https://linkedresearch.org/ldn/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-uri">[URI]
   <dd>T. Berners-Lee; R. Fielding; L. Masinter. <a href="https://www.rfc-editor.org/rfc/rfc3986"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. January 2005. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> TODO <a class="issue-return" href="#issue-b7b1e314" title="Jump to section">↵</a></div>
   <div class="issue"> TODO <a class="issue-return" href="#issue-b7b1e314①" title="Jump to section">↵</a></div>
   <div class="issue"> TODO <a class="issue-return" href="#issue-b7b1e314②" title="Jump to section">↵</a></div>
   <div class="issue"> TODO <a class="issue-return" href="#issue-b7b1e314③" title="Jump to section">↵</a></div>
  </div>